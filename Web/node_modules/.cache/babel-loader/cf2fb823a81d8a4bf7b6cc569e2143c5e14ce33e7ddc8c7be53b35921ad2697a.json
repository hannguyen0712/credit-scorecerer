{"ast":null,"code":"import { GoogleGenerativeAI } from '@google/generative-ai';\nclass GeminiService {\n  constructor() {\n    this.genAI = null;\n    const apiKey = process.env.REACT_APP_GEMINI_API_KEY;\n    if (apiKey && apiKey !== 'your_gemini_api_key_here') {\n      this.genAI = new GoogleGenerativeAI(apiKey);\n    } else {\n      console.warn('Gemini API key not set or is placeholder. Using mock responses.');\n    }\n  }\n  async getPurchaseRecommendation(request, userCards) {\n    try {\n      console.log('GeminiService: Starting purchase consultation...');\n      console.log('Request:', request);\n      console.log('User cards:', userCards);\n      if (this.genAI) {\n        console.log('Using Gemini API...');\n        const model = this.genAI.getGenerativeModel({\n          model: 'gemini-2.5-flash'\n        });\n        console.log('Model initialized');\n        const prompt = this.buildConsultationPrompt(request, userCards);\n        console.log('Sending purchase consultation prompt to Gemini...');\n        const result = await model.generateContent(prompt);\n        console.log('Got result from Gemini');\n        const response = await result.response;\n        const text = response.text();\n        console.log('Response text:', text);\n        return this.parseAIResponse(text, userCards);\n      } else {\n        console.log('Using mock response...');\n        return this.getMockPurchaseRecommendation(request, userCards);\n      }\n    } catch (error) {\n      console.error('Error getting AI recommendation:', error);\n      console.error('Error details:', error);\n      // Fallback to mock response on error\n      console.log('Falling back to mock response...');\n      return this.getMockPurchaseRecommendation(request, userCards);\n    }\n  }\n  buildConsultationPrompt(request, userCards) {\n    const cardsInfo = userCards.map(card => `Card: ${card.name} (${card.issuer})\n- Credit Limit: $${card.creditLimit.toLocaleString()}\n- Current Balance: $${card.currentBalance.toLocaleString()}\n- Available Credit: $${card.availableCredit.toLocaleString()}\n- Interest Rate: ${card.interestRate}%\n- Minimum Payment: $${card.minimumPayment}\n- Rewards: ${card.rewards.type} at ${card.rewards.rate}% rate\n- Utilization: ${(card.currentBalance / card.creditLimit * 100).toFixed(1)}%\n- Due Date: ${card.dueDate}\n- Last Payment: ${card.lastPaymentDate || 'No recent payments'}\n- Last Payment Amount: ${card.lastPaymentAmount ? `$${card.lastPaymentAmount}` : 'N/A'}`).join('\\n\\n');\n    return `You are a direct, no-nonsense financial advisor helping with credit card purchase decisions. \n\nUser's Credit Cards with complete details:\n${cardsInfo}\n\nPurchase Details:\n- Amount: $${request.purchaseAmount}\n- Category: ${request.purchaseCategory}\n- Description: ${request.description}\n${request.preferredCard ? `- Preferred Card: ${request.preferredCard}` : ''}\n\nProvide a recommendation in the following JSON format with concrete, actionable guidance:\n{\n  \"recommendation\": {\n    \"recommendedCard\": \"Card name\",\n    \"reasoning\": \"Single paragraph with specific numbers, exact payment amounts, reward calculations, interest savings, credit score impact numbers, and concrete timeline recommendations. Be direct and practical.\",\n    \"creditImpact\": \"positive|neutral|negative\",\n    \"impactExplanation\": \"Specific percentage impact on credit score with exact numbers and timeline\"\n  },\n  \"alternatives\": [\n    {\n      \"cardId\": \"card-id\",\n      \"cardName\": \"Card name\",\n      \"pros\": [\"specific advantage with numbers\"],\n      \"cons\": [\"specific disadvantage with numbers\"]\n    }\n  ],\n  \"tips\": [\n    \"Concrete tip with specific numbers and actionable steps\",\n    \"Another concrete tip with exact amounts and timeline\"\n  ]\n}\n\nFocus on:\n- Specific utilization targets with exact percentages\n- Exact payment amounts and interest savings calculations\n- Reward optimization strategies with specific dollar amounts\n- Credit score impact numbers with concrete timeline\n- Payment due dates and cash flow optimization\n- Concrete timeline recommendations\n\nProvide practical, actionable advice with specific numbers and calculations.`;\n  }\n  parseAIResponse(responseText, userCards) {\n    try {\n      var _parsed$recommendatio, _parsed$recommendatio2, _parsed$recommendatio3, _parsed$recommendatio4, _parsed$alternatives;\n      // Extract JSON from the response\n      const jsonMatch = responseText.match(/\\{[\\s\\S]*\\}/);\n      if (!jsonMatch) {\n        throw new Error('No JSON found in response');\n      }\n      const parsed = JSON.parse(jsonMatch[0]);\n\n      // Validate and map the response\n      return {\n        recommendation: {\n          recommendedCard: ((_parsed$recommendatio = parsed.recommendation) === null || _parsed$recommendatio === void 0 ? void 0 : _parsed$recommendatio.recommendedCard) || 'Unknown',\n          reasoning: ((_parsed$recommendatio2 = parsed.recommendation) === null || _parsed$recommendatio2 === void 0 ? void 0 : _parsed$recommendatio2.reasoning) || 'No reasoning provided',\n          creditImpact: ((_parsed$recommendatio3 = parsed.recommendation) === null || _parsed$recommendatio3 === void 0 ? void 0 : _parsed$recommendatio3.creditImpact) || 'neutral',\n          impactExplanation: ((_parsed$recommendatio4 = parsed.recommendation) === null || _parsed$recommendatio4 === void 0 ? void 0 : _parsed$recommendatio4.impactExplanation) || 'No impact explanation'\n        },\n        alternatives: ((_parsed$alternatives = parsed.alternatives) === null || _parsed$alternatives === void 0 ? void 0 : _parsed$alternatives.map(alt => ({\n          cardId: alt.cardId || '',\n          cardName: alt.cardName || 'Unknown Card',\n          pros: alt.pros || [],\n          cons: alt.cons || []\n        }))) || [],\n        tips: parsed.tips || []\n      };\n    } catch (error) {\n      var _userCards$;\n      console.error('Error parsing AI response:', error);\n      // Return a fallback response\n      return {\n        recommendation: {\n          recommendedCard: ((_userCards$ = userCards[0]) === null || _userCards$ === void 0 ? void 0 : _userCards$.name) || 'Unknown',\n          reasoning: 'Unable to parse AI response. Please try again.',\n          creditImpact: 'neutral',\n          impactExplanation: 'Unable to determine impact.'\n        },\n        alternatives: [],\n        tips: ['Consider your credit utilization when making purchases.', 'Pay off balances in full when possible.']\n      };\n    }\n  }\n  async getGeneralCreditAdvice(question, userCards) {\n    try {\n      console.log('GeminiService: Starting API call...');\n      console.log('Question:', question);\n      console.log('User cards:', userCards);\n      if (this.genAI) {\n        console.log('Using Gemini API...');\n        const model = this.genAI.getGenerativeModel({\n          model: 'gemini-2.5-flash'\n        });\n        console.log('Model initialized');\n        const cardsInfo = userCards.map(card => `${card.name}: $${card.currentBalance}/${card.creditLimit} (${(card.currentBalance / card.creditLimit * 100).toFixed(1)}% utilization)`).join(', ');\n        const prompt = `You are a financial advisor. The user has these credit cards: ${cardsInfo}\n\nUser question: ${question}\n\nProvide helpful, actionable advice about credit management, spending optimization, and credit score improvement. Keep your response concise and practical.`;\n        console.log('Sending prompt to Gemini...');\n        const result = await model.generateContent(prompt);\n        console.log('Got result from Gemini');\n        const response = await result.response;\n        const text = response.text();\n        console.log('Response text:', text);\n        return text;\n      } else {\n        console.log('Using mock response...');\n        return this.getMockGeneralAdvice(question, userCards);\n      }\n    } catch (error) {\n      console.error('Error getting general advice:', error);\n      console.error('Error details:', error);\n      // Fallback to mock response\n      console.log('Falling back to mock response...');\n      return this.getMockGeneralAdvice(question, userCards);\n    }\n  }\n  getMockPurchaseRecommendation(request, userCards) {\n    // Find the best card for the purchase based on rewards and utilization\n    const bestCard = userCards.reduce((best, card) => {\n      const bestUtilization = best.currentBalance / best.creditLimit;\n      const currentUtilization = card.currentBalance / card.creditLimit;\n\n      // Prefer cards with lower utilization and higher rewards\n      if (currentUtilization < bestUtilization || currentUtilization === bestUtilization && card.rewards.rate > best.rewards.rate) {\n        return card;\n      }\n      return best;\n    });\n    const utilizationAfterPurchase = (bestCard.currentBalance + request.purchaseAmount) / bestCard.creditLimit;\n    const creditImpact = utilizationAfterPurchase > 0.3 ? 'negative' : utilizationAfterPurchase > 0.1 ? 'neutral' : 'positive';\n    return {\n      recommendation: {\n        recommendedCard: bestCard.name,\n        reasoning: `Based on your current credit utilization and rewards structure, I recommend using your ${bestCard.name} for this $${request.purchaseAmount} ${request.purchaseCategory} purchase. This card offers ${bestCard.rewards.rate}% ${bestCard.rewards.type} rewards, and your utilization will remain at ${(utilizationAfterPurchase * 100).toFixed(1)}% after this purchase. Pay off the balance within the grace period to avoid interest charges of $${(request.purchaseAmount * bestCard.interestRate / 100 / 12).toFixed(2)} per month.`,\n        creditImpact,\n        impactExplanation: creditImpact === 'positive' ? 'This purchase will help maintain low utilization, potentially improving your credit score' : creditImpact === 'negative' ? 'This purchase will increase your utilization above 30%, which may negatively impact your credit score' : 'This purchase will have minimal impact on your credit score'\n      },\n      alternatives: userCards.filter(card => card.id !== bestCard.id).map(card => ({\n        cardId: card.id,\n        cardName: card.name,\n        pros: [`${card.rewards.rate}% ${card.rewards.type} rewards`, `Current utilization: ${(card.currentBalance / card.creditLimit * 100).toFixed(1)}%`],\n        cons: [card.interestRate > bestCard.interestRate ? `Higher interest rate (${card.interestRate}%)` : '', card.currentBalance > bestCard.currentBalance ? 'Higher current balance' : ''].filter(Boolean)\n      })),\n      tips: [`Pay off this purchase by ${bestCard.dueDate} to avoid interest charges`, `Consider setting up automatic payments to avoid late fees`, `Monitor your credit utilization to keep it below 30% for optimal credit score impact`]\n    };\n  }\n  getMockGeneralAdvice(question, userCards) {\n    const totalUtilization = userCards.reduce((sum, card) => {\n      return sum + card.currentBalance / card.creditLimit;\n    }, 0) / userCards.length;\n    const avgUtilization = (totalUtilization * 100).toFixed(1);\n    if (question.toLowerCase().includes('utilization') || question.toLowerCase().includes('credit score')) {\n      return `Your current average credit utilization is ${avgUtilization}%. To improve your credit score, aim to keep utilization below 30%. Consider paying down your highest balance cards first, and avoid making large purchases that would push your utilization above this threshold. Your credit score can improve significantly by maintaining low utilization over time.`;\n    }\n    if (question.toLowerCase().includes('payment') || question.toLowerCase().includes('pay off')) {\n      return `Focus on paying off your highest interest rate cards first to minimize interest charges. Set up automatic payments for at least the minimum amount to avoid late fees, which can hurt your credit score. If possible, pay more than the minimum to reduce your principal balance faster.`;\n    }\n    if (question.toLowerCase().includes('reward') || question.toLowerCase().includes('cashback')) {\n      return `Your cards offer different reward structures. Use your highest reward rate card for purchases in categories where it offers the most value. Remember that rewards are only beneficial if you pay off your balance in full each month to avoid interest charges that could exceed the reward value.`;\n    }\n\n    // Default advice\n    const utilizationNum = parseFloat(avgUtilization);\n    return `Based on your current credit card situation, I recommend focusing on maintaining low credit utilization (below 30%), paying off high-interest balances first, and making payments on time. Your average utilization of ${avgUtilization}% ${utilizationNum > 30 ? 'could be improved' : 'is in a good range'}. Consider setting up automatic payments and monitoring your credit score regularly for optimal financial health.`;\n  }\n}\nexport default new GeminiService();","map":{"version":3,"names":["GoogleGenerativeAI","GeminiService","constructor","genAI","apiKey","process","env","REACT_APP_GEMINI_API_KEY","console","warn","getPurchaseRecommendation","request","userCards","log","model","getGenerativeModel","prompt","buildConsultationPrompt","result","generateContent","response","text","parseAIResponse","getMockPurchaseRecommendation","error","cardsInfo","map","card","name","issuer","creditLimit","toLocaleString","currentBalance","availableCredit","interestRate","minimumPayment","rewards","type","rate","toFixed","dueDate","lastPaymentDate","lastPaymentAmount","join","purchaseAmount","purchaseCategory","description","preferredCard","responseText","_parsed$recommendatio","_parsed$recommendatio2","_parsed$recommendatio3","_parsed$recommendatio4","_parsed$alternatives","jsonMatch","match","Error","parsed","JSON","parse","recommendation","recommendedCard","reasoning","creditImpact","impactExplanation","alternatives","alt","cardId","cardName","pros","cons","tips","_userCards$","getGeneralCreditAdvice","question","getMockGeneralAdvice","bestCard","reduce","best","bestUtilization","currentUtilization","utilizationAfterPurchase","filter","id","Boolean","totalUtilization","sum","length","avgUtilization","toLowerCase","includes","utilizationNum","parseFloat"],"sources":["/Users/hanngn/Documents/CreditScorecerer/credit-scorecerer/Web/src/services/GeminiService.ts"],"sourcesContent":["import { GoogleGenerativeAI } from '@google/generative-ai';\nimport { CreditCard, AIConsultationRequest, AIConsultationResponse } from '../types';\n\nclass GeminiService {\n  private genAI: GoogleGenerativeAI | null = null;\n\n  constructor() {\n    const apiKey = process.env.REACT_APP_GEMINI_API_KEY;\n    if (apiKey && apiKey !== 'your_gemini_api_key_here') {\n      this.genAI = new GoogleGenerativeAI(apiKey);\n    } else {\n      console.warn('Gemini API key not set or is placeholder. Using mock responses.');\n    }\n  }\n\n  async getPurchaseRecommendation(\n    request: AIConsultationRequest,\n    userCards: CreditCard[]\n  ): Promise<AIConsultationResponse> {\n    try {\n      console.log('GeminiService: Starting purchase consultation...');\n      console.log('Request:', request);\n      console.log('User cards:', userCards);\n      \n      if (this.genAI) {\n        console.log('Using Gemini API...');\n        const model = this.genAI.getGenerativeModel({ model: 'gemini-2.5-flash' });\n        console.log('Model initialized');\n\n        const prompt = this.buildConsultationPrompt(request, userCards);\n        console.log('Sending purchase consultation prompt to Gemini...');\n        const result = await model.generateContent(prompt);\n        console.log('Got result from Gemini');\n        const response = await result.response;\n        const text = response.text();\n        console.log('Response text:', text);\n\n        return this.parseAIResponse(text, userCards);\n      } else {\n        console.log('Using mock response...');\n        return this.getMockPurchaseRecommendation(request, userCards);\n      }\n    } catch (error) {\n      console.error('Error getting AI recommendation:', error);\n      console.error('Error details:', error);\n      // Fallback to mock response on error\n      console.log('Falling back to mock response...');\n      return this.getMockPurchaseRecommendation(request, userCards);\n    }\n  }\n\n  private buildConsultationPrompt(request: AIConsultationRequest, userCards: CreditCard[]): string {\n    const cardsInfo = userCards.map(card => \n      `Card: ${card.name} (${card.issuer})\n- Credit Limit: $${card.creditLimit.toLocaleString()}\n- Current Balance: $${card.currentBalance.toLocaleString()}\n- Available Credit: $${card.availableCredit.toLocaleString()}\n- Interest Rate: ${card.interestRate}%\n- Minimum Payment: $${card.minimumPayment}\n- Rewards: ${card.rewards.type} at ${card.rewards.rate}% rate\n- Utilization: ${((card.currentBalance / card.creditLimit) * 100).toFixed(1)}%\n- Due Date: ${card.dueDate}\n- Last Payment: ${card.lastPaymentDate || 'No recent payments'}\n- Last Payment Amount: ${card.lastPaymentAmount ? `$${card.lastPaymentAmount}` : 'N/A'}`\n    ).join('\\n\\n');\n\n    return `You are a direct, no-nonsense financial advisor helping with credit card purchase decisions. \n\nUser's Credit Cards with complete details:\n${cardsInfo}\n\nPurchase Details:\n- Amount: $${request.purchaseAmount}\n- Category: ${request.purchaseCategory}\n- Description: ${request.description}\n${request.preferredCard ? `- Preferred Card: ${request.preferredCard}` : ''}\n\nProvide a recommendation in the following JSON format with concrete, actionable guidance:\n{\n  \"recommendation\": {\n    \"recommendedCard\": \"Card name\",\n    \"reasoning\": \"Single paragraph with specific numbers, exact payment amounts, reward calculations, interest savings, credit score impact numbers, and concrete timeline recommendations. Be direct and practical.\",\n    \"creditImpact\": \"positive|neutral|negative\",\n    \"impactExplanation\": \"Specific percentage impact on credit score with exact numbers and timeline\"\n  },\n  \"alternatives\": [\n    {\n      \"cardId\": \"card-id\",\n      \"cardName\": \"Card name\",\n      \"pros\": [\"specific advantage with numbers\"],\n      \"cons\": [\"specific disadvantage with numbers\"]\n    }\n  ],\n  \"tips\": [\n    \"Concrete tip with specific numbers and actionable steps\",\n    \"Another concrete tip with exact amounts and timeline\"\n  ]\n}\n\nFocus on:\n- Specific utilization targets with exact percentages\n- Exact payment amounts and interest savings calculations\n- Reward optimization strategies with specific dollar amounts\n- Credit score impact numbers with concrete timeline\n- Payment due dates and cash flow optimization\n- Concrete timeline recommendations\n\nProvide practical, actionable advice with specific numbers and calculations.`;\n  }\n\n  private parseAIResponse(responseText: string, userCards: CreditCard[]): AIConsultationResponse {\n    try {\n      // Extract JSON from the response\n      const jsonMatch = responseText.match(/\\{[\\s\\S]*\\}/);\n      if (!jsonMatch) {\n        throw new Error('No JSON found in response');\n      }\n\n      const parsed = JSON.parse(jsonMatch[0]);\n      \n      // Validate and map the response\n      return {\n        recommendation: {\n          recommendedCard: parsed.recommendation?.recommendedCard || 'Unknown',\n          reasoning: parsed.recommendation?.reasoning || 'No reasoning provided',\n          creditImpact: parsed.recommendation?.creditImpact || 'neutral',\n          impactExplanation: parsed.recommendation?.impactExplanation || 'No impact explanation'\n        },\n        alternatives: parsed.alternatives?.map((alt: any) => ({\n          cardId: alt.cardId || '',\n          cardName: alt.cardName || 'Unknown Card',\n          pros: alt.pros || [],\n          cons: alt.cons || []\n        })) || [],\n        tips: parsed.tips || []\n      };\n    } catch (error) {\n      console.error('Error parsing AI response:', error);\n      // Return a fallback response\n      return {\n        recommendation: {\n          recommendedCard: userCards[0]?.name || 'Unknown',\n          reasoning: 'Unable to parse AI response. Please try again.',\n          creditImpact: 'neutral',\n          impactExplanation: 'Unable to determine impact.'\n        },\n        alternatives: [],\n        tips: ['Consider your credit utilization when making purchases.', 'Pay off balances in full when possible.']\n      };\n    }\n  }\n\n  async getGeneralCreditAdvice(question: string, userCards: CreditCard[]): Promise<string> {\n    try {\n      console.log('GeminiService: Starting API call...');\n      console.log('Question:', question);\n      console.log('User cards:', userCards);\n      \n      if (this.genAI) {\n        console.log('Using Gemini API...');\n        const model = this.genAI.getGenerativeModel({ model: 'gemini-2.5-flash' });\n        console.log('Model initialized');\n\n        const cardsInfo = userCards.map(card => \n          `${card.name}: $${card.currentBalance}/${card.creditLimit} (${((card.currentBalance / card.creditLimit) * 100).toFixed(1)}% utilization)`\n        ).join(', ');\n\n        const prompt = `You are a financial advisor. The user has these credit cards: ${cardsInfo}\n\nUser question: ${question}\n\nProvide helpful, actionable advice about credit management, spending optimization, and credit score improvement. Keep your response concise and practical.`;\n\n        console.log('Sending prompt to Gemini...');\n        const result = await model.generateContent(prompt);\n        console.log('Got result from Gemini');\n        const response = await result.response;\n        const text = response.text();\n        console.log('Response text:', text);\n        return text;\n      } else {\n        console.log('Using mock response...');\n        return this.getMockGeneralAdvice(question, userCards);\n      }\n    } catch (error) {\n      console.error('Error getting general advice:', error);\n      console.error('Error details:', error);\n      // Fallback to mock response\n      console.log('Falling back to mock response...');\n      return this.getMockGeneralAdvice(question, userCards);\n    }\n  }\n\n  private getMockPurchaseRecommendation(\n    request: AIConsultationRequest,\n    userCards: CreditCard[]\n  ): AIConsultationResponse {\n    // Find the best card for the purchase based on rewards and utilization\n    const bestCard = userCards.reduce((best, card) => {\n      const bestUtilization = best.currentBalance / best.creditLimit;\n      const currentUtilization = card.currentBalance / card.creditLimit;\n      \n      // Prefer cards with lower utilization and higher rewards\n      if (currentUtilization < bestUtilization || \n          (currentUtilization === bestUtilization && card.rewards.rate > best.rewards.rate)) {\n        return card;\n      }\n      return best;\n    });\n\n    const utilizationAfterPurchase = (bestCard.currentBalance + request.purchaseAmount) / bestCard.creditLimit;\n    const creditImpact = utilizationAfterPurchase > 0.3 ? 'negative' : utilizationAfterPurchase > 0.1 ? 'neutral' : 'positive';\n\n    return {\n      recommendation: {\n        recommendedCard: bestCard.name,\n        reasoning: `Based on your current credit utilization and rewards structure, I recommend using your ${bestCard.name} for this $${request.purchaseAmount} ${request.purchaseCategory} purchase. This card offers ${bestCard.rewards.rate}% ${bestCard.rewards.type} rewards, and your utilization will remain at ${(utilizationAfterPurchase * 100).toFixed(1)}% after this purchase. Pay off the balance within the grace period to avoid interest charges of $${(request.purchaseAmount * bestCard.interestRate / 100 / 12).toFixed(2)} per month.`,\n        creditImpact,\n        impactExplanation: creditImpact === 'positive' \n          ? 'This purchase will help maintain low utilization, potentially improving your credit score'\n          : creditImpact === 'negative'\n          ? 'This purchase will increase your utilization above 30%, which may negatively impact your credit score'\n          : 'This purchase will have minimal impact on your credit score'\n      },\n      alternatives: userCards.filter(card => card.id !== bestCard.id).map(card => ({\n        cardId: card.id,\n        cardName: card.name,\n        pros: [\n          `${card.rewards.rate}% ${card.rewards.type} rewards`,\n          `Current utilization: ${((card.currentBalance / card.creditLimit) * 100).toFixed(1)}%`\n        ],\n        cons: [\n          card.interestRate > bestCard.interestRate ? `Higher interest rate (${card.interestRate}%)` : '',\n          card.currentBalance > bestCard.currentBalance ? 'Higher current balance' : ''\n        ].filter(Boolean)\n      })),\n      tips: [\n        `Pay off this purchase by ${bestCard.dueDate} to avoid interest charges`,\n        `Consider setting up automatic payments to avoid late fees`,\n        `Monitor your credit utilization to keep it below 30% for optimal credit score impact`\n      ]\n    };\n  }\n\n  private getMockGeneralAdvice(question: string, userCards: CreditCard[]): string {\n    const totalUtilization = userCards.reduce((sum, card) => {\n      return sum + (card.currentBalance / card.creditLimit);\n    }, 0) / userCards.length;\n\n    const avgUtilization = (totalUtilization * 100).toFixed(1);\n\n    if (question.toLowerCase().includes('utilization') || question.toLowerCase().includes('credit score')) {\n      return `Your current average credit utilization is ${avgUtilization}%. To improve your credit score, aim to keep utilization below 30%. Consider paying down your highest balance cards first, and avoid making large purchases that would push your utilization above this threshold. Your credit score can improve significantly by maintaining low utilization over time.`;\n    }\n\n    if (question.toLowerCase().includes('payment') || question.toLowerCase().includes('pay off')) {\n      return `Focus on paying off your highest interest rate cards first to minimize interest charges. Set up automatic payments for at least the minimum amount to avoid late fees, which can hurt your credit score. If possible, pay more than the minimum to reduce your principal balance faster.`;\n    }\n\n    if (question.toLowerCase().includes('reward') || question.toLowerCase().includes('cashback')) {\n      return `Your cards offer different reward structures. Use your highest reward rate card for purchases in categories where it offers the most value. Remember that rewards are only beneficial if you pay off your balance in full each month to avoid interest charges that could exceed the reward value.`;\n    }\n\n    // Default advice\n    const utilizationNum = parseFloat(avgUtilization);\n    return `Based on your current credit card situation, I recommend focusing on maintaining low credit utilization (below 30%), paying off high-interest balances first, and making payments on time. Your average utilization of ${avgUtilization}% ${utilizationNum > 30 ? 'could be improved' : 'is in a good range'}. Consider setting up automatic payments and monitoring your credit score regularly for optimal financial health.`;\n  }\n}\n\nexport default new GeminiService();\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}